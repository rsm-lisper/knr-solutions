# INCLUDE <STDIO.H>
# INCLUDE <CTYPE.H>
# INCLUDE <STRING.H>

# DEFINE TOUPPER "CONV_UPPER"
# DEFINE TOLOWER "CONV_LOWER"

INT MAIN (INT ARGC, CHAR **ARGV)
{
  INT C, UP;
  CHAR *NAME;

  NAME = STRCHR(ARGV[0], '/');
  NAME = NAME==NULL ? ARGV[0] : NAME+1;
  
  IF (ARGC > 1)
    PRINTF("WARNING! %S DOES NOT SUPPORT ARGUMENTS.\N", NAME);

  IF (STRCMP(NAME, TOUPPER) == 0)
    UP = 1;
  ELSE IF (STRCMP(NAME, TOLOWER) == 0)
    UP = 0;
  ELSE {
    PRINTF("ERROR! UNRECOGNIZED BINARY NAME '%S'. SHOULD BE '%S' OR '%S'.\N",
           NAME, TOUPPER, TOLOWER);
    RETURN 0;
  }
  
  WHILE ((C = GETCHAR()) != EOF) {
    IF (ISALPHA(C))
      C = UP ? TOUPPER(C) : TOLOWER(C);
    PUTCHAR(C);
  }
  
  RETURN 0;
}
